parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"sjBN":[function(require,module,exports) {

},{}],"w63A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildHashSelector=exports.BuildHashSelector_=void 0;var e=require("preact"),a=h(require("clsx")),r=i(require("@lhci/utils/src/lodash.js"));require("./build-hash-selector.css");var t=require("../../hooks/use-api-data"),n=require("../../components/async-loader"),s=require("../../components/pill"),c=require("preact/hooks");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l();if(a&&a.has(e))return a.get(e);var r={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=t?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n]}return r.default=e,a&&a.set(e,r),r}function h(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}const u=a=>{const{branch:r,withDevLine:t,withNode:n,withDevBranchArc:s}=a;return(0,e.h)("span",{className:"build-hash-selector__git-viz git-viz"},(0,e.h)("span",{className:"git-viz__master-line"}),t?(0,e.h)("span",{className:"git-viz__dev-line"}):(0,e.h)(e.Fragment,null),n&&r===a.baseBranch?(0,e.h)("span",{className:"git-viz__master-node"}):(0,e.h)(e.Fragment,null),n&&r!==a.baseBranch?(0,e.h)("span",{className:"git-viz__dev-node"}):(0,e.h)(e.Fragment,null),s?(0,e.h)("span",{className:"git-viz__dev-branch-off"}):(0,e.h)(e.Fragment,null))},d=a=>{const r=a.branch===a.baseBranch?"master-branch":"dev-branch";return(0,e.h)("li",{className:"build-hash-selector__item build-hash-selector__label-li"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"build-hash-selector__selection"}),(0,e.h)(u,{baseBranch:a.baseBranch,branch:a.branch,withNode:!1,withDevBranchArc:a.withDevBranchArc||!1,withDevLine:a.withDevLine}),(0,e.h)("span",{className:"build-hash-selector__branch-label build-hash-selector__branch-label--".concat(r)},a.branch)))},b=a=>a.build.externalBuildUrl?(0,e.h)("a",{href:a.build.externalBuildUrl,target:"_blank",rel:"noopener noreferrer"},"View Build"):(0,e.h)(e.Fragment,null),m=a=>{try{const t=new URL(a.build.externalBuildUrl);if(!t.host.includes("travis-ci"))return(0,e.h)(e.Fragment,null);const[n,s]=t.pathname.split("/").filter(Boolean);return(0,e.h)("a",{href:"https://github.com/".concat(n,"/").concat(s,"/commit/").concat(a.build.hash),target:"_blank",rel:"noopener noreferrer"},"GitHub")}catch(r){return(0,e.h)(e.Fragment,null)}},p=t=>{const{build:n,compareBuild:c,baseBuild:l,selector:i}=t,h=n.id===c.id,o=n.id===(l&&l.id),d="base"===i&&o||"compare"===i&&h,p=n.branch===t.baseBranch?"master-branch":"dev-branch";return(0,e.h)("li",{className:(0,a.default)("build-hash-selector__item",{"build-hash-selector__item--selected":d}),key:n.id,onClick:()=>{if(h&&"compare"===i)return;if(o&&"base"===i)return;const e=new URL(window.location.href);"base"===i?e.searchParams.set("baseBuild",n.id):(e.searchParams.delete("baseBuild"),l&&e.searchParams.set("baseBuild",l.id),e.pathname=e.pathname.replace(/compare\/\w+$/,"compare/".concat(r.shortId(n.id)))),window.location.href=e.href}},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"build-hash-selector__selection"},h&&"base"===i&&(0,e.h)(s.Pill,{variant:"compare",solid:!0},"compare"),o&&"compare"===i&&(0,e.h)(s.Pill,{variant:"base",solid:!0},"base")),(0,e.h)(u,{baseBranch:t.baseBranch,branch:n.branch,withNode:!0,withDevBranchArc:t.withDevBranchArc,withDevLine:t.withDevLine}),(0,e.h)(s.Pill,{variant:p,avatar:n},(0,e.h)("span",{className:"build-hash-selector__hash"},n.hash.slice(0,7)))," ",(0,e.h)("span",{className:"build-hash-selector__commit"},n.commitMessage),(0,e.h)("span",{className:"build-hash-selector__links"},(0,e.h)(b,{build:n}),(0,e.h)(m,{build:n}))),d?(0,e.h)("i",{className:"material-icons build-hash-selector__selector-selection"},"check"):(0,e.h)(e.Fragment,null))},v=a=>{const{branchBuilds:t,baseBuilds:n,baseBranch:s}=a,l=r.uniqBy(t.concat(n).sort((e,a)=>new Date(a.runAt).getTime()-new Date(e.runAt).getTime()),e=>e.id),i=a.build.branch===s?-10:l.length-1-l.slice().reverse().findIndex(e=>e.branch===a.build.branch);return(0,c.useEffect)(()=>{const e=e=>{const r=e.target;r instanceof HTMLElement&&(r.closest(".build-hash-selector")||r.closest(".build-selector-header-section")||a.close())};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[a.close]),(0,e.h)("ul",{className:"build-hash-selector__list build-hash-selector--".concat(a.selector)},l.map((r,t)=>(0,e.h)(e.Fragment,{key:r.id},(0,e.h)(p,{key:r.id,build:r,compareBuild:a.build,baseBuild:a.ancestorBuild,baseBranch:a.baseBranch,selector:a.selector,withDevLine:t<=i&&a.build.branch!==s,withDevBranchArc:t===i+1}),t===i&&r.branch!==s?(0,e.h)(d,{branch:r.branch,withDevLine:!0,baseBranch:s}):null,i===l.length-1&&t===i?(0,e.h)(d,{branch:"",withDevLine:!1,withDevBranchArc:!0,baseBranch:s}):null,t===l.length-1?(0,e.h)(d,{branch:s,withDevLine:!1,baseBranch:s}):null)))};exports.BuildHashSelector_=v;const B=a=>{const{build:r,baseBranch:s}=a,c=(0,t.useBranchBuilds)(r.projectId,r.branch,{limit:100}),l=(0,t.useBranchBuilds)(r.projectId,s,{limit:100});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"build-hash-selector-obscure-background"}),(0,e.h)("div",{className:"build-hash-selector"},(0,e.h)(n.AsyncLoader,{loadingState:(0,n.combineLoadingStates)(c,l),asyncData:(0,n.combineAsyncData)(c,l),render:([r,t])=>(0,e.h)(v,o({},a,{branchBuilds:r,baseBuilds:t,baseBranch:s}))})))};exports.BuildHashSelector=B;
},{"preact":"PBm5","clsx":"bvnL","@lhci/utils/src/lodash.js":"OuB2","./build-hash-selector.css":"sjBN","../../hooks/use-api-data":"Xxih","../../components/async-loader":"XB7O","../../components/pill":"JStZ","preact/hooks":"o0eE"}],"kQtg":[function(require,module,exports) {
module.exports="/app/favicon.5ff0c208.svg";
},{}],"TkZA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrViewerButton=void 0;var e=require("preact"),r=require("./lhr-viewer-link");require("./lhr-viewer-button.css");const t=require("../favicon.svg"),i=i=>{const{lhr:o,label:n="Open Report"}=i;return(0,e.h)(r.LhrViewerLink,{lhr:o},(0,e.h)("div",{className:"lhr-viewer-button",role:"button"},(0,e.h)("img",{src:t})," ",(0,e.h)("span",null,n)))};exports.LhrViewerButton=i;
},{"preact":"PBm5","./lhr-viewer-link":"H8Hv","./lhr-viewer-button.css":"sjBN","../favicon.svg":"kQtg"}],"U1ZB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildSelectorHeaderSection=void 0;var e=require("preact");require("./build-selector-header-section.css");var r=l(require("clsx")),i=require("../../components/pill"),s=require("../../components/lhr-viewer-button");function l(e){return e&&e.__esModule?e:{default:e}}const t=r=>{const{hash:s,commitMessage:l="unknown commit"}=r.build;return(0,e.h)(e.Fragment,null,(0,e.h)(i.Pill,{className:"build-selector-header-section__hash",variant:r.variant,solid:!0},s.slice(0,8)),(0,e.h)("span",{className:"build-selector-header-section__message"},l))},a=i=>(0,e.h)("div",{className:(0,r.default)("build-selector-header-section build-selector-header-section--".concat(i.variant),{"build-selector-header-section--open":i.isOpen,"build-selector-header-section--dim":i.isDimmed}),onClick:i.onClick},i.build?(0,e.h)(t,{build:i.build,variant:i.variant}):(0,e.h)("span",{className:"build-selector-header-section__message"},"None"),(0,e.h)("div",{className:"build-selector-header-section__lhr-link",onMouseEnter:()=>i.setLhrLinkHover(!0),onMouseLeave:()=>i.setLhrLinkHover(!1)},i.lhr?(0,e.h)(s.LhrViewerButton,{lhr:i.lhr}):(0,e.h)(e.Fragment,null)),(0,e.h)("div",{className:"build-selector-header-section__variant-label"},i.variant));exports.BuildSelectorHeaderSection=a;
},{"preact":"PBm5","./build-selector-header-section.css":"sjBN","clsx":"bvnL","../../components/pill":"JStZ","../../components/lhr-viewer-button":"TkZA"}],"XUZA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeWarnings=a,exports.BuildViewWarnings=void 0;var e=require("preact"),s=require("../../components/paper"),i=require("../../components/lhr-viewer-link");function a(e){const{build:s,baseBuild:i,baseLhr:a,hasBaseOverride:r}=e,n=!i,t=!a,o=i&&s.hash===i.hash,l=i&&i.hash!==s.ancestorHash&&!r;return{hasWarning:n||t||o||l,missingBase:n,missingBaseLhr:t,baseAndCompareAreSame:o,missingAncestor:l}}const r=r=>{const n=a(r),t=(0,e.h)(e.Fragment,null,(0,e.h)(i.LhrViewerLink,{className:"lhr-comparison__warning__lhr-link",lhr:r.lhr},"jump straight to the Lighthouse report."));return n.missingBase?(0,e.h)(s.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"sentiment_very_dissatisfied"),(0,e.h)("div",null,"Oops, no base build could be found for this commit. Manually select a base build above, or"," ",t)):n.baseAndCompareAreSame?(0,e.h)(s.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"sentiment_very_dissatisfied"),(0,e.h)("div",null,"Oops, this base build is the same commit as the compare. Select a different base build to explore differences, or ",t)):n.missingBaseLhr?(0,e.h)(s.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"sentiment_very_dissatisfied"),(0,e.h)("div",null,"Oops, this base build is missing a run for this URL. Select a different URL to explore differences, or ",t)):n.missingAncestor?(0,e.h)(s.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"warning"),(0,e.h)("div",null,"This base build is not the exact ancestor of the compare. Differences may not be due to this specific commit.")):(0,e.h)(e.Fragment,null)};exports.BuildViewWarnings=r;
},{"preact":"PBm5","../../components/paper":"QhNa","../../components/lhr-viewer-link":"H8Hv"}],"sCii":[function(require,module,exports) {
"use strict";function t(t){const s=[],i=t.split(/\[([^\]]+?)\]\((https?:\/\/.*?)\)/g);for(;i.length;){const[t,n,e]=i.splice(0,3);t&&s.push({isLink:!1,text:t}),n&&e&&s.push({isLink:!0,text:n,linkHref:e})}return s}module.exports={splitMarkdownLink:t};
},{}],"ouLq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Markdown=void 0;var e=require("preact"),r=require("@lhci/utils/src/markdown.js");const t=t=>{const s=(0,r.splitMarkdownLink)(t.text);return(0,e.h)(e.Fragment,null,s.map((r,t)=>{if(!r.isLink)return(0,e.h)("span",{key:t},r.text);const s=new URL(r.linkHref);return["https://developers.google.com","https://web.dev"].includes(s.origin)&&(s.searchParams.set("utm_source","lighthouse"),s.searchParams.set("utm_medium","ci")),(0,e.h)("a",{key:t,href:s.href,target:"_blank",rel:"noopener noreferrer"},r.text)}))};exports.Markdown=t;
},{"preact":"PBm5","@lhci/utils/src/markdown.js":"sCii"}],"EIAX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleDetails=void 0;var e=require("preact"),t=require("../../../components/nbsp");require("./simple-details.css");var a=require("@lhci/utils/src/audit-diff-finder.js");const r=r=>{let s=r.type;const{compareValue:n,baseValue:l,diff:i}=r,o=void 0===n?l:n;"object"==typeof o&&o.type&&(s=o.type);const c=i?(0,a.getDiffLabel)(i):"neutral",u=Number.isFinite(l)?l:0,p=Number.isFinite(n)?n:0,m="Base Value: ".concat(Math.round(u).toLocaleString()),h="Compare Value: ".concat(Math.round(p).toLocaleString()),d="".concat(m,", ").concat(h),A=i&&1!==(0,a.getDeltaStats)(i).percentAbsoluteDelta?" (".concat((100*(0,a.getDeltaStats)(i).percentAbsoluteDelta).toLocaleString(void 0,{maximumFractionDigits:0}),"%)"):"";switch(s){case"bytes":{const a=Math.abs((p-u)/1024);return(0,e.h)("pre",{className:"simple-details--".concat(c),"data-tooltip":d},p>=u?"+":"-",a.toLocaleString(void 0,{maximumFractionDigits:Math.abs(a)<1?1:0}),(0,e.h)(t.Nbsp,null),"KB",A)}case"ms":case"timespanMs":{const a=Math.abs(Math.round(p-u));return(0,e.h)("pre",{className:"simple-details--".concat(c),"data-tooltip":d},p>=u?"+":"-",a.toLocaleString(),(0,e.h)(t.Nbsp,null),"ms",A)}case"thumbnail":return(0,e.h)("img",{style:{width:48,height:48,objectFit:"cover"},src:"asdfasjdfoiasjdfosdj",onError:e=>{const t=e.srcElement;t instanceof HTMLImageElement&&(t.onerror=null,t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")}});case"url":{let t=o,a="";try{const e=new URL(o);t=e.pathname,a=e.hostname}catch(b){}return(0,e.h)("span",{title:o},t,a?(0,e.h)("span",{className:"simple-details__url-hostname"},"(",a,")"):"")}case"link":return o.url?(0,e.h)("a",{target:"_blank",rel:"noopener noreferrer",href:o.url},o.text):(0,e.h)("span",null,o.text);case"code":return(0,e.h)("pre",null,o);case"numeric":return(0,e.h)("pre",{className:"simple-details--".concat(c)},p>=u?"+":"-",Math.abs(p-u).toLocaleString(),A);case"text":return(0,e.h)("span",null,o);case"node":return(0,e.h)("pre",null,o.snippet);case"source-location":{if(!o.url)return(0,e.h)("pre",null,JSON.stringify(o));const{url:t,line:a,column:r}=o;return(0,e.h)("pre",null,t,":",a,":",r)}default:{const t=JSON.stringify(r);return(0,e.h)("pre",{"data-tooltip":t},t.slice(0,20))}}};exports.SimpleDetails=r;
},{"preact":"PBm5","../../../components/nbsp":"Wvaz","./simple-details.css":"sjBN","@lhci/utils/src/audit-diff-finder.js":"On24"}],"zOiT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TableDetails=void 0;var e=require("preact");require("./table-details.css");var t=require("./simple-details"),a=require("@lhci/utils/src/audit-diff-finder");function l(e){switch(e){case"bytes":case"ms":case"timespanMs":case"numeric":return!0;default:return!1}}const n=n=>{const{audit:s,baseAudit:i,diffs:r}=n.pair;if(!s.details)return(0,e.h)(e.Fragment,null);const{headings:u,items:d}=s.details;if(!u||!d)return(0,e.h)(e.Fragment,null);const c=i&&i.details&&i.details.headings||[],m=i&&i.details&&i.details.items||[],o=(0,a.zipBaseAndCompareItems)(m,d),p=(0,a.sortZippedBaseAndCompareItems)(r,o),h=u.length?u:c;let y=h.findIndex(e=>l(e.valueType||e.itemType||"unknown"))-1;return y<0&&(y=h.length-1),(0,e.h)("div",{className:"table-details"},(0,e.h)("table",null,(0,e.h)("thead",null,(0,e.h)("tr",null,h.map((t,a)=>{const l=t.valueType||t.itemType||"unknown";return(0,e.h)(e.Fragment,{key:a},(0,e.h)("th",{className:"table-column--".concat(l)},t.label||t.text),y===a?(0,e.h)("th",null):null)}))),(0,e.h)("tbody",null,p.map(({base:l,compare:n,diffs:s})=>{if(!(n||l))return null;const i="".concat(l&&l.index,"-").concat(n&&n.index),u=(0,a.getRowLabelForIndex)(r,n&&n.index,l&&l.index);return(0,e.h)("tr",{key:i},h.map((a,i)=>{const r=a.valueType||a.itemType||"unknown",d=s.find(e=>"itemDelta"===e.type&&e.itemKey===a.key);return(0,e.h)(e.Fragment,{key:i},(0,e.h)("td",{className:"table-column--".concat(r)},(0,e.h)(t.SimpleDetails,{type:r,compareValue:n&&n.item[a.key],baseValue:l&&l.item[a.key],diff:d})),y===i?(0,e.h)("td",{className:"table-column--row-label"},"added"===u||"removed"===u?u:""):null)}))}))))};exports.TableDetails=n;
},{"preact":"PBm5","./table-details.css":"sjBN","./simple-details":"EIAX","@lhci/utils/src/audit-diff-finder":"On24"}],"sgr9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NumericDiff=void 0;var e=require("preact"),t=require("@lhci/utils/src/audit-diff-finder"),i=a(require("clsx")),n=require("../../../components/nbsp");function a(e){return e&&e.__esModule?e:{default:e}}require("./numeric-diff.css");const r={"first-contentful-paint":[0,1e4],"first-meaningful-paint":[0,1e4],"largest-contentful-paint":[0,15e3],"speed-index":[0,15e3],"first-cpu-idle":[0,15e3],interactive:[0,2e4],"estimated-input-latency":[0,1500],"max-potential-fid":[0,1500],"total-blocking-time":[0,1500],__default__:[0,3e4]},s=(e,t)=>{const i=e&&e.id||"";return(r[i]||r.__default__)["lower"===t?0:1]},u=(e,t)=>{const i="up"===t?Math.ceil:Math.floor;return e<10?i(e):e<100?10*i(e/10):e<1e3?100*i(e/100):e<1e4?1e3*i(e/1e3):2500*i(e/2500)},l=(e,t)=>{if("metrics"===t)return"ms";if("load-opportunities"===t)return"ms";if(!e)return"none";if(e.details){if(e.details.overallSavingsMs)return"ms"}const i=e.displayValue||"";return/[0-9,.]+\s(ms|s)$/.test(i)?"ms":/[0-9,.]+\s(KB|MB)$/.test(i)?"bytes":"none"},o=(t,i)=>{const{asDelta:a=!1,withSuffix:r=!1,unit:s="none"}=i;let u=Math.round(t),l=0,o="";"ms"===s&&(o="ms",Math.abs(u)>=1e3&&!i.preventSecondsConversion&&(u/=1e3,l=1,o="s")),"bytes"===s&&(o="KB",u/=1024,Math.abs(u)>=500&&(u/=1024,l=1,o="MB")),"none"===s&&Math.abs(u)>=50&&(u/=1e3,l=1,o="K");const f=u.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l}),d=a&&u>=0?"+":"",c=d+f+(r?o:"");return{element:(0,e.h)("span",null,d,f,r?(0,e.h)(e.Fragment,null,(0,e.h)(n.Nbsp,null),o):""),string:c,length:c.length}},f=n=>{const{diff:a,audit:r,groupId:f}=n,d=l(r,f),c=a.compareValue,m=a.baseValue;if("number"!=typeof m||"number"!=typeof c)return(0,e.h)("span",null,"No diff available");const h=c-m,p=Math.min(c,m),_=Math.max(c,m),g=n.showAsBigPicture?s(r,"lower"):u(.8*p,"down"),v=n.showAsBigPicture?s(r,"upper"):u(1.2*_,"up"),b=v-g,x=100*(Math.min(Math.max(p,g),v)-g)/b,M=100-100*(Math.min(Math.max(_,g),v)-g)/b,w=(0,t.getDeltaLabel)(h,"audit"),N=p===c,y="".concat(o(m,{unit:d,withSuffix:!0}).string," to ").concat(o(c,{withSuffix:!0,unit:d}).string);if(n.showAsNarrow)return(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff","text--".concat(w)),"data-tooltip":y},o(h,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:d}).element);const{element:S,length:D}=o(h,{asDelta:!0,withSuffix:!0,preventSecondsConversion:!0,unit:d}),B=10*D*100/300;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audit-numeric-diff"},(0,e.h)("div",{className:"audit-numeric-diff__left-label"},o(g,{unit:d}).element),(0,e.h)("div",{className:"audit-numeric-diff__bar"},(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff__box",{"audit-numeric-diff__box--improvement":"improvement"===w,"audit-numeric-diff__box--regression":"regression"===w}),style:{left:"".concat(x,"%"),right:"".concat(M,"%")},"data-tooltip":y},(0,e.h)("div",{className:"audit-numeric-diff__now",style:{left:N?"0%":"100%"}}),(0,e.h)("div",{className:(0,i.default)("audit-numeric-diff__delta-label",{"audit-numeric-diff__delta-label--narrow-left":"improvement"===w&&x<B,"audit-numeric-diff__delta-label--narrow-right":"regression"===w&&M<B}),style:{[N?"right":"left"]:"100%"}},S))),(0,e.h)("div",{className:"audit-numeric-diff__right-label"},o(v,{unit:d}).element)))};exports.NumericDiff=f;
},{"preact":"PBm5","@lhci/utils/src/audit-diff-finder":"On24","clsx":"bvnL","../../../components/nbsp":"Wvaz","./numeric-diff.css":"sjBN"}],"AvRe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDiff=exports.ItemDiff=void 0;var e=d(require("@lhci/utils/src/lodash")),r=require("preact"),t=require("../../../components/score-icon"),a=require("./numeric-diff"),i=require("@lhci/utils/src/audit-diff-finder"),o=u(require("clsx"));function u(e){return e&&e.__esModule?e:{default:e}}function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s();if(r&&r.has(e))return r.get(e);var t={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(t,i,o):t[i]=e[i]}return t.default=e,r&&r.set(e,t),t}const n={"font-display":"font_download","uses-rel-preconnect":"language","user-timings":"timer","bootup-time":"speed","mainthread-work-breakdown":"speed","third-party-summary":"language",deprecations:"error","errors-in-console":"error","font-sizes":"format_size"},f=e=>{const t=e.audit.id||"",a=e.groupId||"";let i="";return a.includes("opportunities")&&(i="web_asset"),a.includes("a11y")&&(i="code"),t.includes("image")&&(i="photo"),i=n[t]||i||"list_alt",(0,r.h)("i",{className:"material-icons"},i)},l=e=>(0,r.h)(r.Fragment,null,(0,r.h)(t.ScoreWord,{audit:e.baseAudit}),(0,r.h)("i",{className:"material-icons audit-group__diff-arrow audit-group__diff-arrow--".concat((0,i.getDiffLabel)(e.diff))},"arrow_forward"),(0,r.h)(t.ScoreWord,{audit:e.audit})),c=e=>(0,r.h)(r.Fragment,null,(0,r.h)("span",null,e.diff.baseValue),(0,r.h)("i",{className:"material-icons audit-group__diff-arrow audit-group__diff-arrow--".concat((0,i.getDiffLabel)(e.diff))},"arrow_forward"),(0,r.h)("span",null,e.diff.compareValue));function p(e){switch(e){case"added":case"worse":case"ambiguous":return"regression";case"removed":case"better":return"improvement";case"no change":return"neutral"}}function m(r){return e.uniqBy(r.map(e=>({base:"baseItemIndex"in e?e.baseItemIndex:void 0,compare:"compareItemIndex"in e?e.compareItemIndex:void 0})).filter(e=>"number"==typeof e.base||"number"==typeof e.compare),e=>"".concat(e.base,"-").concat(e.compare))}const g=e=>{const{diffs:t,baseAudit:a,groupId:u}=e,s=a.details&&a.details.items||[],d=m(t).map(e=>(0,i.getRowLabelForIndex)(t,e.compare,e.base)).map(p),n=d.filter(e=>"regression"===e).length,l=d.filter(e=>"improvement"===e).length,c=(0,r.h)(r.Fragment,null,(0,r.h)("div",{className:"audit-group__diff-badge-group"},(0,r.h)(f,{audit:e.audit,groupId:u}),(0,r.h)("div",{className:"audit-group__diff-badges"},(0,r.h)("span",{className:"audit-group__diff-badge"},s.length))),(0,r.h)("i",{className:"material-icons audit-group__diff-arrow audit-group__diff-arrow--".concat(l>n?"improvement":"regression")},"arrow_forward"));return(0,r.h)(r.Fragment,null,e.showAsNarrow?(0,r.h)(r.Fragment,null):c,(0,r.h)("div",{className:(0,o.default)("audit-group__diff-badge-group")},(0,r.h)(f,{audit:e.audit,groupId:u}),(0,r.h)("div",{className:(0,o.default)("audit-group__diff-badges",{"audit-group__diff-badge-group--multiple":Boolean(n&&l)})},n?(0,r.h)("span",{className:"audit-group__diff-badge audit-group__diff-badge--regression"},n):null,l?(0,r.h)("span",{className:"audit-group__diff-badge audit-group__diff-badge--improvement"},l):null)))};exports.ItemDiff=g;const h=()=>(0,r.h)("div",{className:"audit-group__error-message","data-tooltip":"Audit did not run in the base report"},(0,r.h)("i",{className:"material-icons"},"error_outline")," Audit Missing"),_=e=>{let t="An unknown error occurred while trying to compare the audit results.";return"error"===e.audit.scoreDisplayMode?t="Audit in compare report errored: ".concat(e.audit.errorMessage):"error"===e.baseAudit.scoreDisplayMode&&(t="Audit in base report errored: ".concat(e.baseAudit.errorMessage)),(0,r.h)("div",{className:"audit-group__error-message","data-tooltip":t},(0,r.h)("i",{className:"material-icons"},"error_outline")," Audit Error")},b=e=>{const{audit:t,baseAudit:i,diffs:o,group:u}=e.pair,s=(0,r.h)("span",null,"No diff available");if(!i)return(0,r.h)(h,null);if(o.find(e=>"error"===e.type))return(0,r.h)(_,{audit:t,baseAudit:i});const d=o.find(e=>"numericValue"===e.type);if(d&&"numericValue"===d.type)return(0,r.h)(a.NumericDiff,{diff:d,audit:t,groupId:u.id,showAsBigPicture:e.showAsBigPicture,showAsNarrow:e.showAsNarrow});if(o.some(e=>"itemAddition"===e.type||"itemRemoval"===e.type||"itemDelta"===e.type))return(0,r.h)(g,{diffs:o,audit:t,baseAudit:i,groupId:u.id,showAsNarrow:e.showAsNarrow});const n=o.find(e=>"score"===e.type);if(n)return(0,r.h)(l,{diff:n,audit:t,baseAudit:i});const f=o.find(e=>"displayValue"===e.type);return f&&"displayValue"===f.type?(0,r.h)(c,{diff:f,audit:t,baseAudit:i}):s};exports.AuditDiff=b;
},{"@lhci/utils/src/lodash":"OuB2","preact":"PBm5","../../../components/score-icon":"s9NN","./numeric-diff":"sgr9","@lhci/utils/src/audit-diff-finder":"On24","clsx":"bvnL"}],"tp3Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDetail=void 0;var e=require("preact"),i=n(require("clsx")),a=require("../../../components/score-icon"),t=require("../../../components/markdown"),r=require("./table-details"),d=require("../audit-list/numeric-diff"),u=require("../audit-list/audit-diff"),s=require("@lhci/utils/src/audit-diff-finder");function n(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const l=i=>{const{audit:t,baseAudit:r}=i.pair;return r?(0,e.h)("div",{className:"audit-detail-pane__audit-details--binary"},(0,e.h)(a.ScoreWord,{audit:r}),(0,e.h)("i",{className:"material-icons audit-group__diff-arrow audit-group__diff-arrow--".concat((0,s.getDiffLabel)(i.diff))},"arrow_forward"),(0,e.h)(a.ScoreWord,{audit:t})):null},p=i=>{const a="error"===i.pair.audit.scoreDisplayMode?i.pair.audit:i.pair.baseAudit;return a?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audit-detail-pane__audit-details-summary"},"Error occurred in the"," ",a===i.pair.baseAudit?"base report:":"compare report:"),(0,e.h)("pre",null,a.errorMessage||"Unknown error")):null},c=i=>{const{pair:a}=i,t=a.audit.details||{type:"unknown"},s=a.baseAudit&&a.baseAudit.details||{type:"unknown"},n=Boolean((t.items||[]).length||(s.items||[]).length);let c=void 0,f=void 0,h=void 0;if(a.audit.errorMessage||a.baseAudit&&a.baseAudit.errorMessage)return(0,e.h)(p,{pair:a});"table"!==t.type&&"opportunity"!==t.type||!n||(f=(0,e.h)(r.TableDetails,{pair:a}),a.baseAudit&&(c=(0,e.h)(u.ItemDiff,o({},a,{baseAudit:a.baseAudit,groupId:a.group.id}))));const m=a.diffs.find(e=>"numericValue"===e.type);if(m&&"numericValue"===m.type&&(h=(0,e.h)(d.NumericDiff,{diff:m,audit:a.audit})),f||m)return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audit-detail-pane__audit-details-summary"},h||c),f);const _=a.diffs.find(e=>"score"===e.type);return _&&"score"===_.type?(0,e.h)(l,{diff:_,pair:i.pair}):(0,e.h)("pre",null,JSON.stringify(i.pair,null,2))},f=r=>{const{audit:d}=r.pair;return(0,e.h)("div",{id:"audit-detail-pane-audit--".concat(d.id),className:(0,i.default)("audit-detail-pane__audit")},(0,e.h)("div",{className:"audit-detail-pane__score"},(0,e.h)(a.ScoreIcon,{score:d.score||0})),(0,e.h)("div",{className:"audit-detail-pane__audit-title"},d.title),(0,e.h)("div",{className:"audit-detail-pane__audit-description"},(0,e.h)(t.Markdown,{text:d.description||""})),(0,e.h)("div",{className:"audit-detail-pane__audit-details"},(0,e.h)(c,{pair:r.pair})))};exports.AuditDetail=f;
},{"preact":"PBm5","clsx":"bvnL","../../../components/score-icon":"s9NN","../../../components/markdown":"ouLq","./table-details":"zOiT","../audit-list/numeric-diff":"sgr9","../audit-list/audit-diff":"AvRe","@lhci/utils/src/audit-diff-finder":"On24"}],"veg5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditDetailPane=void 0;var e=require("preact");require("./audit-detail-pane.css");var t=require("../../../hooks/use-previous-value.jsx"),i=require("preact/hooks"),a=require("./audit-detail");const r=r=>{const s=(0,i.useRef)(void 0),u=(0,t.usePreviousValue)(r.selectedAuditId);return(0,i.useEffect)(()=>{const e=r.selectedAuditId,t=s.current;if(!t||!e||e===u)return;const i=t.querySelector("#audit-detail-pane-audit--".concat(e));i&&i instanceof HTMLElement&&t.scrollTo(0,i.offsetTop)},[r.selectedAuditId,u]),(0,e.h)("div",{className:"audit-detail-pane",ref:e=>s.current=e},(0,e.h)("div",{className:"audit-detail-pane__close",onClick:()=>r.setSelectedAuditId(null)},(0,e.h)("i",{className:"material-icons"},"close")),r.pairs.map(t=>{const{audit:i}=t;if(i.id)return(0,e.h)(a.AuditDetail,{key:i.id,pair:t})}))};exports.AuditDetailPane=r;
},{"preact":"PBm5","./audit-detail-pane.css":"sjBN","../../../hooks/use-previous-value.jsx":"INeX","preact/hooks":"o0eE","./audit-detail":"tp3Q"}],"VyyD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBadgeDiffType=c,exports.getBadgeStatus=g,exports.PWAGauge=exports.OptimizedIcon=exports.InstallableIcon=exports.FastReliableIcon=void 0;var e=require("preact"),a=o(require("clsx")),l=r(require("@lhci/utils/src/lodash.js"));function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=t();if(a&&a.has(e))return a.get(e);var l={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(l,o,s):l[o]=e[o]}return l.default=e,a&&a.set(e,l),l}function o(e){return e&&e.__esModule?e:{default:e}}require("./pwa-gauge.css");const s=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"pwa-icon pwa-icon--".concat(a.deltaType)},(0,e.h)("g",{"fill-rule":"nonzero",fill:"none"},(0,e.h)("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{d:"M12 4.3l6.3 2.8v4.2c0 3.88-2.69 7.52-6.3 8.4-3.61-.88-6.3-4.51-6.3-8.4V7.1L12 4.3zm-.56 12.88l3.3-5.79.04-.08c.05-.1.01-.29-.26-.29h-1.96l.56-3.92h-.56L9.3 12.82c0 .03.07-.12-.03.07-.11.2-.12.37.2.37h1.97l-.56 3.92h.56z",fill:"#FFF"})));exports.FastReliableIcon=s;const i=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"pwa-icon pwa-icon--".concat(a.deltaType)},(0,e.h)("g",{"fill-rule":"nonzero",fill:"none"},(0,e.h)("circle",{class:"pwa-icon__background",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{d:"M12 5a7 7 0 1 0 0 14 7 7 0 0 0 0-14zm3.5 7.7h-2.8v2.8h-1.4v-2.8H8.5v-1.4h2.8V8.5h1.4v2.8h2.8v1.4z",fill:"#FFF"})));exports.InstallableIcon=i;const n=a=>(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"pwa-icon pwa-icon--".concat(a.deltaType)},(0,e.h)("g",{fill:"none","fill-rule":"evenodd"},(0,e.h)("rect",{class:"pwa-icon__background",width:"24",height:"24",rx:"12"}),(0,e.h)("path",{d:"M5 5h14v14H5z"}),(0,e.h)("path",{fill:"#FFF",d:"M12 15.07l3.6 2.18-.95-4.1 3.18-2.76-4.2-.36L12 6.17l-1.64 3.86-4.2.36 3.2 2.76-.96 4.1z"})));function c(e,a,l){return e[l]===a[l]?"neutral":a[l]?"improvement":"regression"}function g(e){const a=e.categories.pwa,t=l.groupIntoMap(a.auditRefs,e=>e.group),r=(a=[])=>a.map(a=>e.audits[a.id]).every(e=>e&&1===e.score);return{optimized:r(t.get("pwa-optimized")||[]),installable:r(t.get("pwa-installable")||[]),fastAndReliable:r(t.get("pwa-fast-reliable")||[])}}exports.OptimizedIcon=n;const p=l=>{const{status:t}=l,r=t.optimized&&t.installable&&t.fastAndReliable;return(0,e.h)("div",{className:(0,a.default)("pwa-gauge",{"pwa-gauge--all":r,"pwa-gauge--pwa-optimized":!r&&t.optimized,"pwa-gauge--pwa-installable":!r&&t.installable,"pwa-gauge--pwa-fast-reliable":!r&&t.fastAndReliable})},(0,e.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"},(0,e.h)("defs",null,(0,e.h)("linearGradient",{id:"pwa-gauge__check-circle__gradient",x1:"50%",y1:"0%",x2:"50%",y2:"100%"},(0,e.h)("stop",{"stop-color":"#00C852",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#009688",offset:"100%"})),(0,e.h)("linearGradient",{id:"pwa-gauge__installable__shadow-gradient",x1:"76.056%",x2:"24.111%",y1:"82.995%",y2:"24.735%"},(0,e.h)("stop",{"stop-color":"#A5D6A7",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#80CBC4",offset:"100%"})),(0,e.h)("linearGradient",{id:"pwa-gauge__fast-reliable__shadow-gradient",x1:"76.056%",y1:"82.995%",x2:"25.678%",y2:"26.493%"},(0,e.h)("stop",{"stop-color":"#64B5F6",offset:"0%"}),(0,e.h)("stop",{"stop-color":"#2979FF",offset:"100%"})),(0,e.h)("g",{id:"pwa-gauge__fast-reliable-badge"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),(0,e.h)("path",{fill:"#304FFE",d:"M10 3.58l5.25 2.34v3.5c0 3.23-2.24 6.26-5.25 7-3.01-.74-5.25-3.77-5.25-7v-3.5L10 3.58zm-.47 10.74l2.76-4.83.03-.07c.04-.08 0-.24-.22-.24h-1.64l.47-3.26h-.47l-2.7 4.77c-.02.01.05-.1-.04.05-.09.16-.1.31.18.31h1.63l-.47 3.27h.47z"})),(0,e.h)("g",{id:"pwa-gauge__installable-badge"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"10",cy:"10",r:"10"}),(0,e.h)("path",{fill:"#009688",d:"M10 4.167A5.835 5.835 0 0 0 4.167 10 5.835 5.835 0 0 0 10 15.833 5.835 5.835 0 0 0 15.833 10 5.835 5.835 0 0 0 10 4.167zm2.917 6.416h-2.334v2.334H9.417v-2.334H7.083V9.417h2.334V7.083h1.166v2.334h2.334v1.166z"}))),(0,e.h)("g",{stroke:"none","fill-rule":"nonzero"},(0,e.h)("circle",{class:"pwa-gauge__disc",cx:"30",cy:"30",r:"30"}),(0,e.h)("g",{class:"pwa-gauge__logo"},(0,e.h)("path",{class:"pwa-gauge__logo--secondary-color",d:"M35.66 19.39l.7-1.75h2L37.4 15 38.6 12l3.4 9h-2.51l-.58-1.61z"}),(0,e.h)("path",{class:"pwa-gauge__logo--primary-color",d:"M33.52 21l3.65-9h-2.42l-2.5 5.82L30.5 12h-1.86l-1.9 5.82-1.35-2.65-1.21 3.72L25.4 21h2.38l1.72-5.2 1.64 5.2z"}),(0,e.h)("path",{class:"pwa-gauge__logo--secondary-color","fill-rule":"nonzero",d:"M20.3 17.91h1.48c.45 0 .85-.05 1.2-.15l.39-1.18 1.07-3.3a2.64 2.64 0 0 0-.28-.37c-.55-.6-1.36-.91-2.42-.91H18v9h2.3V17.9zm1.96-3.84c.22.22.33.5.33.87 0 .36-.1.65-.29.87-.2.23-.59.35-1.15.35h-.86v-2.41h.87c.52 0 .89.1 1.1.32z"})),(0,e.h)("rect",{class:"pwa-gauge__component pwa-gauge__na-line",fill:"#FFFFFF",x:"20",y:"32",width:"20",height:"4",rx:"2"}),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-badge",transform:"translate(20, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M33.63 19.49A30 30 0 0 1 16.2 30.36L3 17.14 17.14 3l16.49 16.49z"}),(0,e.h)("use",{href:"#pwa-gauge__fast-reliable-badge"})),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__installable-badge",transform:"translate(20, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M33.629 19.487c-4.272 5.453-10.391 9.39-17.415 10.869L3 17.142 17.142 3 33.63 19.487z"}),(0,e.h)("use",{href:"#pwa-gauge__installable-badge"})),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__fast-reliable-installable-badges"},(0,e.h)("g",{transform:"translate(8, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__fast-reliable__shadow-gradient)",d:"M16.321 30.463L3 17.143 17.142 3l22.365 22.365A29.864 29.864 0 0 1 22 31c-1.942 0-3.84-.184-5.679-.537z"}),(0,e.h)("use",{href:"#pwa-gauge__fast-reliable-badge"})),(0,e.h)("g",{transform:"translate(32, 29)"},(0,e.h)("path",{fill:"url(#pwa-gauge__installable__shadow-gradient)",d:"M25.982 11.84a30.107 30.107 0 0 1-13.08 15.203L3 17.143 17.142 3l8.84 8.84z"}),(0,e.h)("use",{href:"#pwa-gauge__installable-badge"}))),(0,e.h)("g",{class:"pwa-gauge__component pwa-gauge__check-circle",transform:"translate(18, 28)"},(0,e.h)("circle",{fill:"#FFFFFF",cx:"12",cy:"12",r:"12"}),(0,e.h)("path",{fill:"url(#pwa-gauge__check-circle__gradient)",d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))))};exports.PWAGauge=p;
},{"preact":"PBm5","clsx":"bvnL","@lhci/utils/src/lodash.js":"OuB2","./pwa-gauge.css":"sjBN"}],"WTN4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrComparisonScores=void 0;var e=require("preact");require("./lhr-comparison-scores.css");var a=l(require("clsx")),r=require("../../components/gauge"),s=require("../../components/pwa-gauge"),t=require("../../components/score-delta-badge");function l(e){return e&&e.__esModule?e:{default:e}}const o=s=>{const{lhr:l,baseLhr:o,categoryId:i}=s,c=l.categories[i],n=o&&o.categories[i],d=n&&{auditId:"",type:"score",baseValue:n.score,compareValue:c.score};return(0,e.h)("div",{key:i,className:(0,a.default)("lhr-comparison-scores-item")},(0,e.h)(r.Gauge,{score:c.score,diff:d}),(0,e.h)("div",{className:"lhr-comparison-scores-item__label"},c.title),d?(0,e.h)(t.ScoreDeltaBadge,{diff:d,className:"lhr-comparison-scores-item__delta"}):null)},i=r=>{const{lhr:t,baseLhr:l,categoryId:o}=r,i=(0,s.getBadgeStatus)(t);let c;if(l){const r=(0,s.getBadgeStatus)(l),t={fastAndReliable:(0,s.getBadgeDiffType)(r,i,"fastAndReliable"),installable:(0,s.getBadgeDiffType)(r,i,"installable"),optimized:(0,s.getBadgeDiffType)(r,i,"optimized")},o=Object.values(t).every(e=>"neutral"===e),n=(0,e.h)(e.Fragment,null,"neutral"===t.fastAndReliable?(0,e.h)(e.Fragment,null):(0,e.h)(s.FastReliableIcon,{deltaType:t.fastAndReliable}),"neutral"===t.installable?(0,e.h)(e.Fragment,null):(0,e.h)(s.InstallableIcon,{deltaType:t.installable}),"neutral"===t.optimized?(0,e.h)(e.Fragment,null):(0,e.h)(s.OptimizedIcon,{deltaType:t.optimized}));c=(0,e.h)("div",{className:(0,a.default)("lhr-comparison-scores-item__delta")},o?"-":n)}return(0,e.h)("div",{key:o,className:(0,a.default)("lhr-comparison-scores-item","lhr-comparison-scores-item--pwa","lhr-comparison-scores-item--".concat("neutral"))},(0,e.h)(s.PWAGauge,{status:i}),(0,e.h)("div",{className:"lhr-comparison-scores-item__label"},"PWA"),c)},c=a=>{const{lhr:r,baseLhr:s}=a;if(!r)return null;const t=Object.keys(r.categories);return(0,e.h)("div",{className:"lhr-comparison-scores"},t.sort((e,a)=>{return("pwa"===e?1/0:t.indexOf(e))-("pwa"===a?1/0:t.indexOf(a))}).map(a=>"pwa"===a?(0,e.h)(i,{lhr:r,baseLhr:s,categoryId:a}):(0,e.h)(o,{lhr:r,baseLhr:s,categoryId:a})))};exports.LhrComparisonScores=c;
},{"preact":"PBm5","./lhr-comparison-scores.css":"sjBN","clsx":"bvnL","../../components/gauge":"YJE1","../../components/pwa-gauge":"VyyD","../../components/score-delta-badge":"zGVQ"}],"mAeU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AuditGroup=void 0;var e=require("preact");require("./audit-group.css");var t=require("../../../components/paper"),i=require("../../../components/score-icon"),a=o(require("clsx")),r=require("./audit-diff"),s=require("preact/hooks"),u=require("../../../components/lhr-viewer-link");function o(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}const c=t=>(0,e.h)("div",{className:"audit-group__big-picture-tabs"},(0,e.h)("span",{className:(0,a.default)("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":t.showAsBigPicture}),onClick:()=>t.setShowAsBigPicture(!0)},"Overview"),(0,e.h)("span",{className:(0,a.default)("big-picture-tabs__tab",{"big-picture-tabs__tab--selected":!t.showAsBigPicture}),onClick:()=>t.setShowAsBigPicture(!1)},"Magnified")),n=t=>(0,e.h)(e.Fragment,null,t.pairs.map(s=>{const{audit:u}=s;return"metrics"!==t.group.id&&(s={...s,diffs:s.diffs.filter(e=>"numericValue"!==e.type)}),(0,e.h)("div",{key:u.id,className:(0,a.default)("audit-group__audit"),onClick:()=>t.setSelectedAuditId(u.id||null)},(0,e.h)("div",{className:"audit-group__audit-score"},(0,e.h)(i.ScoreIcon,{score:u.score||0})),(0,e.h)("div",{className:"audit-group__audit-title"},u.title),(0,e.h)("div",{className:"audit-group__audit-diff"},(0,e.h)(r.AuditDiff,{pair:s,showAsBigPicture:t.showAsBigPicture,showAsNarrow:t.showAsNarrow})))})),l=t=>{const r=t.baseLhr;return r&&t.expanded?(0,e.h)(e.Fragment,null,t.pairs.map(t=>{const{audit:s}=t;return(0,e.h)("div",{key:s.id,className:(0,a.default)("audit-group__audit","audit-group__audit--unchanged"),onClick:e=>{e.preventDefault(),e.stopPropagation(),(0,u.openLhrInClassicViewer)(r)}},(0,e.h)("div",{className:"audit-group__audit-score"},(0,e.h)(i.ScoreIcon,{score:s.score||0})),(0,e.h)("div",{className:"audit-group__audit-title"},s.title),(0,e.h)("div",{className:"audit-group__audit-diff"},"Open Report"))})):(0,e.h)(e.Fragment,null)},p=i=>{const{group:r}=i,[u,o]=(0,s.useState)("metrics"===r.id),[p,h]=(0,s.useState)(!1);return(0,e.h)(t.Paper,{className:(0,a.default)("audit-group",{"audit-group--expanded":p,"audit-group--unchanged":i.showAsUnchanged})},(0,e.h)("div",{className:"audit-group__header",onClick:()=>h(!p)},(0,e.h)("div",{className:"audit-group__title"},r.title," ",i.showAsUnchanged?"(".concat(i.pairs.length,")"):""),(0,e.h)("div",{className:"audit-group__expand-toggle"},(0,e.h)("i",{className:"material-icons"},"chevron_right")),"metrics"!==r.id||i.showAsNarrow?(0,e.h)(e.Fragment,null):(0,e.h)(c,d({},i,{showAsBigPicture:u,setShowAsBigPicture:o}))),(0,e.h)("div",{className:"audit-group__audits"},i.showAsUnchanged?(0,e.h)(l,d({},i,{expanded:p})):(0,e.h)(n,d({},i,{showAsBigPicture:u}))))};exports.AuditGroup=p;
},{"preact":"PBm5","./audit-group.css":"sjBN","../../../components/paper":"QhNa","../../../components/score-icon":"s9NN","clsx":"bvnL","./audit-diff":"AvRe","preact/hooks":"o0eE","../../../components/lhr-viewer-link":"H8Hv"}],"sSju":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LhrComparisonLegend=void 0;var e=require("preact");require("./lhr-comparison-legend.css");var r=require("../../components/score-icon");const s=()=>(0,e.h)("div",{className:"lhr-comparison-legend"},(0,e.h)(r.ScoreIcon,{score:0}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"0-49"),(0,e.h)(r.ScoreIcon,{score:.5}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"50-89"),(0,e.h)(r.ScoreIcon,{score:1}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"90-100"),(0,e.h)("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--regression"}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"Regression"),(0,e.h)("i",{className:"lhr-comparison-legend__chip lhr-comparison-legend__chip--improvement"}),(0,e.h)("span",{className:"lhr-comparison-legend__label"},"Improvement"));exports.LhrComparisonLegend=s;
},{"preact":"PBm5","./lhr-comparison-legend.css":"sjBN","../../components/score-icon":"s9NN"}],"IPZK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={version:!0,Children:!0,render:!0,hydrate:!0,unmountComponentAtNode:!0,createPortal:!0,createElement:!0,createFactory:!0,cloneElement:!0,isValidElement:!0,findDOMNode:!0,PureComponent:!0,memo:!0,forwardRef:!0,unstable_batchedUpdates:!0,Suspense:!0,lazy:!0,createContext:!0,createRef:!0,Fragment:!0,Component:!0};exports.hydrate=exports.render=f,exports.unmountComponentAtNode=g,exports.createPortal=_,exports.createElement=y,exports.createFactory=s,exports.cloneElement=b,exports.isValidElement=x,exports.findDOMNode=E,exports.memo=R,exports.forwardRef=A,exports.Suspense=a,exports.lazy=u,Object.defineProperty(exports,"createContext",{enumerable:!0,get:function(){return n.createContext}}),Object.defineProperty(exports,"createRef",{enumerable:!0,get:function(){return n.createRef}}),Object.defineProperty(exports,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(exports,"Component",{enumerable:!0,get:function(){return n.Component}}),exports.unstable_batchedUpdates=exports.PureComponent=exports.Children=exports.version=exports.default=void 0;var t=require("preact/hooks");Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(exports,n,{enumerable:!0,get:function(){return t[n]}}))});var n=require("preact");function r(e){var t=e.parentNode;t&&t.removeChild(e)}var o=n.options.__e;function a(){this.t=[]}function u(e){var t,r,o;function a(a){if(t||(t=e()).then(function(e){r=e.default},function(e){o=e}),o)throw o;if(!r)throw t;return(0,n.createElement)(r,a)}return a.displayName="Lazy",a.o=!0,a}n.options.__e=function(e,t,n){if(e.then&&n)for(var r,a=t;a=a.__p;)if((r=a.__c)&&r.u)return n&&(t.__e=n.__e,t.__k=n.__k),void r.u(e);o(e,t,n)},(a.prototype=new n.Component).u=function(e){var t=this;t.t.push(e);var o=function(){t.t[t.t.indexOf(e)]=t.t[t.t.length-1],t.t.pop(),0==t.t.length&&((0,n._unmount)(t.props.fallback),t.__v.__e=null,t.__v.__k=t.state.i,t.setState({i:null}))};null==t.state.i&&(t.setState({i:t.__v.__k}),function e(t){for(var n=0;n<t.length;n++){var o=t[n];null!=o&&("function"!=typeof o.type&&o.__e?r(o.__e):o.__k&&e(o.__k))}}(t.__v.__k),t.__v.__k=[]),e.then(o,o)},a.prototype.render=function(e,t){return t.i?e.fallback:e.children};var i="16.8.0",l="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,p=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,c=n.options.event;function s(e){return y.bind(null,e)}function f(e,t,o){if(null==t.__k)for(;t.firstChild;)r(t.firstChild);return(0,n.render)(e,t),"function"==typeof o&&o(),e?e.__c:null}exports.version=i,n.options.event=function(e){return c&&(e=c(e)),e.persist=function(){},e.nativeEvent=e};var d=function(){};function m(e){var t=this,r=e.container,o=(0,n.h)(d,{context:t.context},e.vnode);return t.l&&t.l!==r&&(t.s.parentNode&&t.l.removeChild(t.s),(0,n._unmount)(t.v),t.p=!1),e.vnode?t.p?(r.__k=t.__k,(0,n.render)(o,r),t.__k=r.__k):(t.s=document.createTextNode(""),(0,n.hydrate)("",r),r.appendChild(t.s),t.p=!0,t.l=r,(0,n.render)(o,r,t.s),t.__k=this.s.__k):t.p&&(t.s.parentNode&&t.l.removeChild(t.s),(0,n._unmount)(t.v)),t.v=o,t.componentWillUnmount=function(){t.s.parentNode&&t.l.removeChild(t.s),(0,n._unmount)(t.v)},null}function _(e,t){return(0,n.h)(m,{vnode:e,container:t})}d.prototype.getChildContext=function(){return this.props.context},d.prototype.render=function(e){return e.children};var h=function(e,t){return e?(0,n.toChildArray)(e).map(t):null},v={map:h,forEach:h,count:function(e){return e?(0,n.toChildArray)(e).length:0},only:function(e){if(1!==(e=(0,n.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:n.toChildArray};function y(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=n.h.apply(void 0,e),o=r.type,a=r.props;return"function"!=typeof o&&(a.defaultValue&&(a.value||0===a.value||(a.value=a.defaultValue),delete a.defaultValue),Array.isArray(a.value)&&a.multiple&&"select"===o&&((0,n.toChildArray)(a.children).forEach(function(e){-1!=a.value.indexOf(e.props.value)&&(e.props.selected=!0)}),delete a.value),function(e,t){var n,r,o;for(o in t)if(n=p.test(o))break;if(n)for(o in r=e.props={},t)r[p.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=t[o]}(r,a)),r.preactCompatNormalized=!1,C(r)}function C(e){return e.preactCompatNormalized=!0,function(e){var t=e.props;(t.class||t.className)&&(k.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",k))}(e),e}function b(e){return x(e)?C(n.cloneElement.apply(null,arguments)):e}function x(e){return!!e&&e.$$typeof===l}function g(e){return!!e.__k&&((0,n.render)(null,e),!0)}exports.Children=v;var k={configurable:!0,get:function(){return this.class}};function N(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function E(e){return e&&(e.base||1===e.nodeType&&e)||null}var P=function(e){function t(t){e.call(this,t),this.isPureReactComponent=!0}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.shouldComponentUpdate=function(e,t){return N(this.props,e)||N(this.state,t)},t}(n.Component);function R(e,t){function r(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),(t?!t(this.props,e):N(this.props,e))||!r}function o(t){return this.shouldComponentUpdate=r,(0,n.h)(e,function(e,t){for(var n in t)e[n]=t[n];return e}({},t))}return o.prototype.isReactComponent=!0,o.displayName="Memo("+(e.displayName||e.name)+")",o.o=!0,o}function A(e){function t(t){var n=t.ref;return delete t.ref,e(t,n)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function O(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}exports.PureComponent=P,n.Component.prototype.isReactComponent={};var w=n.options.vnode;n.options.vnode=function(e){e.$$typeof=l,function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var o={};for(var a in r)/^on(Ani|Tra)/.test(a)&&(r[a.toLowerCase()]=r[a],delete r[a]),o[a.toLowerCase()]=a;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var u=o.oninput||"oninput";r[u]||(r[u]=r[o.onchange],delete r[o.onchange])}}}();var t=e.type;t&&t.o&&e.ref&&(e.props.ref=e.ref,e.ref=null),"function"==typeof t&&!t.m&&t.prototype&&(O(t.prototype,"componentWillMount"),O(t.prototype,"componentWillReceiveProps"),O(t.prototype,"componentWillUpdate"),t.m=!0),w&&w(e)};var S=function(e,t){return e(t)};exports.unstable_batchedUpdates=S;var F={useState:t.useState,useReducer:t.useReducer,useEffect:t.useEffect,useLayoutEffect:t.useLayoutEffect,useRef:t.useRef,useImperativeHandle:t.useImperativeHandle,useMemo:t.useMemo,useCallback:t.useCallback,useContext:t.useContext,useDebugValue:t.useDebugValue,version:"16.8.0",Children:v,render:f,hydrate:f,unmountComponentAtNode:g,createPortal:_,createElement:y,createContext:n.createContext,createFactory:s,cloneElement:b,createRef:n.createRef,Fragment:n.Fragment,isValidElement:x,findDOMNode:E,Component:n.Component,PureComponent:P,memo:R,forwardRef:A,unstable_batchedUpdates:S,Suspense:a,lazy:u};exports.default=F;
},{"preact/hooks":"o0eE","preact":"PBm5"}],"BOx3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Modal=void 0;var e=require("preact"),r=require("preact/compat"),o=t(require("clsx"));function t(e){return e&&e.__esModule?e:{default:e}}require("./modal.css");const a=t=>{const a=(0,r.useRef)(document.getElementById("preact-modal-root")||document.createElement("div"));return(0,r.useEffect)(()=>(a.current.id="preact-modal-root",document.body.appendChild(a.current),()=>document.body.removeChild(a.current)),[]),(0,r.createPortal)((0,e.h)("div",{className:"modal-backdrop"},(0,e.h)("div",{className:(0,o.default)("modal",t.className),style:{position:"relative"}},t.children,(0,e.h)("div",{className:"modal__close",onClick:t.onClose},(0,e.h)("i",{className:"material-icons"},"close")))),a.current)};exports.Modal=a;
},{"preact":"PBm5","preact/compat":"IPZK","clsx":"bvnL","./modal.css":"sjBN"}],"D9Tn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeRuntimeDiffs=n,exports.LhrRuntimeDiff=void 0;var e=require("preact");require("./lhr-comparison-runtime-diff.css");var t=r(require("clsx"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"string"==typeof e?e:"number"==typeof e?e.toString():void 0===e?"Unset":"boolean"==typeof e?e?"Enabled":"Disabled":Array.isArray(e)?e.join(", "):"Unknown"}function n(e,t){if(!t)return[];const r=[],{benchmarkIndex:n}=e.environment,{benchmarkIndex:i}=t.environment,s=Math.abs(n-i)/Math.min(n,i);s>1.5&&r.push({label:"CPU/Memory Power",base:t.environment.benchmarkIndex.toString(),compare:e.environment.benchmarkIndex.toString(),severity:s>2?"error":"warn"});const a=e.configSettings,h=t.configSettings,l=a.throttling||{},u=a.throttling||{},c=[["Lighthouse Version",t.lighthouseVersion,e.lighthouseVersion],["Storage Reset",h.disableStorageReset,a.disableStorageReset],["Emulated Form Factor",h.emulatedFormFactor,a.emulatedFormFactor],["Throttling Method",h.throttlingMethod,a.throttlingMethod],["CPU Throttling",u.cpuSlowdownMultiplier,l.cpuSlowdownMultiplier],["Network RTT",u.rttMs,l.rttMs],["Network Throughput",u.throughputKbps,l.throughputKbps],["Network RTT",u.requestLatencyMs,l.requestLatencyMs],["Network Throughput (Up)",u.uploadThroughputKbps,l.uploadThroughputKbps],["Network Throughput (Down)",u.downloadThroughputKbps,l.downloadThroughputKbps]];for(const[d,m,p]of c){const e=o(m),t=o(p);e!==t&&r.push({label:d,base:e,compare:t,severity:"error"})}return r}const i=r=>{const{diffs:o}=r;return(0,e.h)("div",{className:(0,t.default)("lhr-comparison-runtime-diff","lhr-comparison-runtime-diff--".concat(r.variant))},(0,e.h)("div",{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"info"),(0,e.h)("div",null,"Changes of runtime settings or the environment can substantially affect your Lighthouse scores and might be the reason for the differences here.")),(0,e.h)("div",{className:"lhr-comparison-runtime-diff__diffs"},"The following runtime differences were detected:",(0,e.h)("table",null,(0,e.h)("thead",null,(0,e.h)("tr",null,(0,e.h)("th",null),(0,e.h)("th",null,"Base"),(0,e.h)("th",null,"Compare"))),(0,e.h)("tbody",null,o.map(t=>(0,e.h)("tr",{key:t.label},(0,e.h)("td",null,t.label),(0,e.h)("td",null,t.base),(0,e.h)("td",null,t.compare)))))))};exports.LhrRuntimeDiff=i;
},{"preact":"PBm5","./lhr-comparison-runtime-diff.css":"sjBN","clsx":"bvnL"}],"vZ7u":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeAuditGroups=g,exports.LhrComparison=void 0;var e=require("preact"),r=require("preact/hooks"),s=m(require("clsx")),t=m(require("@lhci/utils/src/lodash")),i=require("@lhci/utils/src/audit-diff-finder"),o=require("../../components/dropdown"),a=require("./audit-detail/audit-detail-pane"),n=require("./lhr-comparison-scores"),l=require("./audit-list/audit-group"),d=require("./lhr-comparison-legend"),u=require("../../components/paper"),c=require("../../components/lhr-viewer-link");require("./lhr-comparison.css");var h=require("../../components/modal"),p=require("./lhr-comparison-runtime-diff");function m(e){return e&&e.__esModule?e:{default:e}}function f(e){const s=e=>new Promise(r=>setTimeout(r,e));(0,r.useEffect)(()=>{window.location.hash.length<=1||Promise.resolve().then(async()=>{await(async e=>{let r=0;for(;!document.querySelector(e)&&r<10;)await s(500),r++})(".lhr-comparison__audit-groups"),e(window.location.hash.slice(1))})},[])}function g(e,r,s){const o=[];for(const[a,n]of Object.entries(e.categories)){const l={title:n.title,description:n.description},d=t.default.groupBy(n.auditRefs,e=>e.group),u="unchanged:".concat(a),c={id:u,group:{id:u,title:"Unchanged Audits - ".concat(n.title)},pairs:[],showAsUnchanged:!0};for(const t of d){let n=t[0].group||"",u=e.categoryGroups&&e.categoryGroups[n];if(!u){if(1!==d.length)continue;n="category:".concat(a),u=l}const h={...u,id:n},p=t.map(t=>{const o={...e.audits[t.id],id:t.id},a=r&&r.audits[o.id||""],n=a?(0,i.findAuditDiffs)(a,o,{...s,synthesizeItemKeyDiffs:!0}):[],l=Math.max(...n.map(i.getDiffSeverity),0);return{audit:o,baseAudit:a,diffs:n,maxSeverity:l,group:h}}).sort((e,r)=>(e.audit.score||0)-(r.audit.score||0)),m=p.filter(e=>!e.baseAudit||e.diffs.length),f=p.filter(e=>e.baseAudit&&!e.diffs.length);m.length&&o.push({id:n,group:h,pairs:m,showAsUnchanged:!1}),f.length&&c.pairs.push(...f)}c.pairs.length&&o.push(c)}return o}const w=r=>(0,e.h)("div",{className:"lhr-comparison__scores-and-dropdowns"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"lhr-comparison__dropdowns"},r.hookElements.dropdowns,(0,e.h)(o.Dropdown,{label:"Threshold",value:r.percentAbsoluteDeltaThreshold.toString(),setValue:e=>{r.setPercentAbsoluteDeltaThreshold(Number(e))},options:[{value:"0",label:"0%"},{value:"0.05",label:"5%"},{value:"0.1",label:"10%"},{value:"0.15",label:"15%"},{value:"0.25",label:"25%"}]})),r.selectedAuditId?(0,e.h)(e.Fragment,null):(0,e.h)(n.LhrComparisonScores,r))),_=r=>(0,e.h)("div",{className:"lhr-comparison__audit-groups"},r.auditGroups.map(s=>{if(s)return(0,e.h)(l.AuditGroup,{key:s.id,showAsNarrow:r.showAsNarrow,showAsUnchanged:s.showAsUnchanged,pairs:s.pairs,group:s.group,baseLhr:r.baseLhr,selectedAuditId:r.selectedAuditId,setSelectedAuditId:r.setSelectedAuditId})})),A=t=>{const{lhr:i,baseLhr:o}=t,[n,l]=(0,r.useState)(.05),[m,A]=(0,r.useState)(null),[v,b]=(0,r.useState)("none");f(A),(0,r.useEffect)(()=>{window.__LHR__=i,window.__BASE_LHR__=o},[i,o]);const L=(0,p.computeRuntimeDiffs)(i,o),N=L.some(e=>"error"===e.severity),q=g(i,o,{percentAbsoluteDeltaThreshold:n});return(0,e.h)(e.Fragment,null,"none"===v&&N?(0,e.h)(h.Modal,{onClose:()=>b("acknowledged")},(0,e.h)(p.LhrRuntimeDiff,{diffs:L,variant:"full"})):null,m?(0,e.h)(a.AuditDetailPane,{selectedAuditId:m,setSelectedAuditId:A,pairs:q.filter(e=>!e.showAsUnchanged).map(e=>e.pairs).reduce((e,r)=>e.concat(r)),baseLhr:o}):(0,e.h)(e.Fragment,null),(0,e.h)("div",{className:(0,s.default)("lhr-comparison",t.className,{"lhr-comparison--with-audit-selection":!!m})},(0,e.h)(w,{lhr:i,baseLhr:o,selectedAuditId:m,hookElements:t.hookElements,percentAbsoluteDeltaThreshold:n,setPercentAbsoluteDeltaThreshold:l}),(0,e.h)("div",{className:"container"},t.hookElements.warnings,"closed"!==v&&L.length?(0,e.h)(u.Paper,{className:"position-relative"},(0,e.h)(p.LhrRuntimeDiff,{diffs:L,variant:"mini"}),(0,e.h)("div",{className:"lhr-comparison-runtime-diff__close",onClick:()=>b("closed")},(0,e.h)("i",{className:"material-icons"},"close"))):null,q.length&&o?(0,e.h)(e.Fragment,null,m?null:(0,e.h)("div",{className:"lhr-comparison__legend-container"},(0,e.h)(d.LhrComparisonLegend,null)),(0,e.h)(_,{showAsNarrow:!!m,auditGroups:q,baseLhr:o,selectedAuditId:m,setSelectedAuditId:A})):t.hookElements.warnings?null:(0,e.h)(u.Paper,{className:"lhr-comparison__warning"},(0,e.h)("i",{className:"material-icons"},"sentiment_satisfied_alt"),(0,e.h)("div",null,"Woah, no differences found! Switch base builds to explore other differences, or"," ",(0,e.h)(c.LhrViewerLink,{className:"lhr-comparison__warning__lhr-link",lhr:t.lhr},"jump straight to the Lighthouse report."))))))};exports.LhrComparison=A;
},{"preact":"PBm5","preact/hooks":"o0eE","clsx":"bvnL","@lhci/utils/src/lodash":"OuB2","@lhci/utils/src/audit-diff-finder":"On24","../../components/dropdown":"Uq69","./audit-detail/audit-detail-pane":"veg5","./lhr-comparison-scores":"WTN4","./audit-list/audit-group":"mAeU","./lhr-comparison-legend":"sSju","../../components/paper":"QhNa","../../components/lhr-viewer-link":"H8Hv","./lhr-comparison.css":"sjBN","../../components/modal":"BOx3","./lhr-comparison-runtime-diff":"D9Tn"}],"mpF9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildView=void 0;var e=require("preact"),r=require("preact/hooks"),l=require("preact-router"),n=g(require("clsx"));require("./build-view.css");var t=f(require("@lhci/utils/src/lodash.js")),a=require("../../components/async-loader"),i=require("../../hooks/use-api-data"),u=require("./build-hash-selector"),o=require("./build-selector-header-section"),s=require("../../layout/page"),c=require("./build-view-warnings"),d=require("../../components/document-title"),h=require("../../components/loading-spinner"),p=require("./lhr-comparison.jsx"),b=require("../../components/dropdown");function m(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return m=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m();if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=n?Object.getOwnPropertyDescriptor(e,t):null;a&&(a.get||a.set)?Object.defineProperty(l,t,a):l[t]=e[t]}return l.default=e,r&&r.set(e,l),l}function g(e){return e&&e.__esModule?e:{default:e}}function B(e,r){if(e.compareUrl)return e.compareUrl;if(!r.length)return"";const l=r[0].url;return t.groupBy(e.runs,e=>e.url).filter(e=>new Set(e.map(e=>e.buildId)).size>1).map(e=>e[0].url).sort((e,r)=>e.length-r.length)[0]||l}const v=t=>{const[a,i]=(0,r.useState)(null),[h,m]=(0,r.useState)(!1),f=(0,r.useCallback)(()=>i(null),[i]),g=t.runs.filter(e=>e.buildId===t.build.id),v=B(t,g),w=[...new Set(g.map(e=>e.url))],y=g.find(e=>e.url===v),O=t.ancestorBuild&&t.ancestorBuild.id,L=t.runs.filter(e=>e.buildId===O).find(e=>e.url===v);let S,q,j;try{S=(0,r.useMemo)(()=>y&&JSON.parse(y.lhr),[y])}catch(P){j=P}try{q=(0,r.useMemo)(()=>L&&JSON.parse(L.lhr),[L])}catch(P){j=P}if(!y||!S)return(0,e.h)(e.Fragment,null,(0,e.h)("h1",null,"No runs for build"),(0,e.h)("pre",null,j,JSON.stringify(t,null,2)));const k={lhr:S,build:t.build,baseBuild:t.ancestorBuild,baseLhr:q,hasBaseOverride:t.hasBaseOverride};return(0,e.h)(s.Page,{headerLeft:(0,e.h)(l.Link,{href:"/app/projects/".concat(t.project.slug)},(0,e.h)("i",{className:"material-icons"},"arrow_back")),header:(0,e.h)(e.Fragment,null,(0,e.h)(o.BuildSelectorHeaderSection,{build:t.ancestorBuild,variant:"base",lhr:q,isDimmed:"compare"===a,isOpen:"base"===a,setLhrLinkHover:m,onClick:()=>i("base"===a?null:"base")}),(0,e.h)(o.BuildSelectorHeaderSection,{build:t.build,variant:"compare",lhr:S,isDimmed:"base"===a,isOpen:"compare"===a,setLhrLinkHover:m,onClick:()=>i("compare"===a?null:"compare")})),headerRight:(0,e.h)("a",{href:"https://github.com/GoogleChrome/lighthouse-ci",target:"_blank",rel:"noopener noreferrer"},(0,e.h)("i",{className:"material-icons"},"info"))},(0,e.h)(d.DocumentTitle,{title:'Compare "'.concat(t.build.commitMessage,'"')}),a?(0,e.h)(u.BuildHashSelector,{build:t.build,ancestorBuild:t.ancestorBuild,selector:a,lhr:S,baseLhr:q,baseBranch:t.project.baseBranch,close:f}):(0,e.h)(e.Fragment,null),j&&(0,e.h)("h1",null,"Error parsing LHR (",j.stack,")")||(0,e.h)(e.Fragment,null),(0,e.h)(p.LhrComparison,{lhr:S,baseLhr:q,className:(0,n.default)({"build-view--with-lhr-link-hover":h}),hookElements:{warnings:(0,c.computeWarnings)(k).hasWarning?(0,e.h)(c.BuildViewWarnings,k):void 0,dropdowns:(0,e.h)(b.Dropdown,{label:"URL",className:"dropdown--url",value:v,setValue:e=>{const r=new URL(window.location.href);r.searchParams.set("compareUrl",e),(0,l.route)("".concat(r.pathname).concat(r.search))},options:w.map(e=>({value:e,label:e}))})}}))},w=r=>{const l=(0,i.useProjectBySlug)(r.projectSlug),n=l[1]&&l[1].id,t=(0,i.useBuild)(n,r.partialBuildId),u=t[1]&&t[1].id,o=(0,i.useAncestorBuild)(n,u),c=r.baseBuild?r.baseBuild:null,d=(0,i.useOptionalBuildById)(n,c),p=r.baseBuild?d:o,b=p[1]&&p[1].id,m=(0,i.useOptionalBuildRepresentativeRuns)(n,u,null),f=(0,i.useOptionalBuildRepresentativeRuns)(n,null===b?"EMPTY_QUERY":b,null);return(0,e.h)(a.AsyncLoader,{loadingState:(0,a.combineLoadingStates)(l,t,p,m,f),asyncData:(0,a.combineAsyncData)(l,t,p,m,f),renderLoading:()=>(0,e.h)(s.Page,null,(0,e.h)(h.LoadingSpinner,null)),render:([l,n,t,a,i])=>(0,e.h)(v,{project:l,build:n,compareUrl:r.compareUrl,ancestorBuild:t,runs:a.concat(i),hasBaseOverride:!!r.baseBuild})})};exports.BuildView=w;
},{"preact":"PBm5","preact/hooks":"o0eE","preact-router":"K0uB","clsx":"bvnL","./build-view.css":"sjBN","@lhci/utils/src/lodash.js":"OuB2","../../components/async-loader":"XB7O","../../hooks/use-api-data":"Xxih","./build-hash-selector":"w63A","./build-selector-header-section":"U1ZB","../../layout/page":"yJiI","./build-view-warnings":"XUZA","../../components/document-title":"DxBM","../../components/loading-spinner":"A2SG","./lhr-comparison.jsx":"vZ7u","../../components/dropdown":"Uq69"}]},{},[], null)
//# sourceMappingURL=/app/build-view.d34b55ae.js.map